(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/test-task-vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},5033:function(t){t.exports=JSON.parse('[{"id":"272440a9-a6c1-455e-81f6-22d219d2f30e","number":"1","statusId":1,"statusName":"Новая","date":"2019-09-01","comment":"test"},{"id":"10c03d00-a517-4cea-aeff-6ee5c355d7b1","number":"2","statusId":2,"statusName":"В работе","date":"2019-09-02","comment":"2"},{"id":"8126f67b-7e6c-4fed-a3da-1c4749305920","number":"3","statusId":3,"statusName":"Выполнено","date":"2019-09-04","comment":"3"},{"date":"2019-09-16","comment":"3","statusId":4,"number":"45","id":"8d7164ab-3b3b-4f48-b92b-dac52403a099"}]')},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("app-navigation-drawer",{attrs:{drawer:t.drawer},on:{"update:drawer":function(e){t.drawer=e}}}),a("app-toolbar",{attrs:{drawer:t.drawer},on:{"update:drawer":function(e){t.drawer=e}}}),a("v-content",{staticStyle:{background:"#e5e9f1"}},[a("v-container",[a("router-view")],1)],1),a("v-snackbar",{attrs:{color:t.snackbar.color,right:"",bottom:""},model:{value:t.snackbar.shown,callback:function(e){t.$set(t.snackbar,"shown",e)},expression:"snackbar.shown"}},[a("span",[t._v(t._s(t.snackbar.message))]),a("v-btn",{attrs:{text:""},on:{click:t.hideSnackbar}},[t._v("OK")])],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{value:t.drawer,app:"",color:"primary",dark:""},on:{input:t.emitValue}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{on:{click:function(e){return t.$router.push({name:"BidsList"})}}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-view-list")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Заявки")])],1)],1),a("v-list-item",{on:{click:function(e){return t.$router.push({name:"CreateBid"})}}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-account-edit")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Создать заявку")])],1)],1)],1)],1)},i=[],c={name:"AppNavigationDrawer",props:{drawer:Boolean},methods:{emitValue(t){this.$emit("update:drawer",t)}}},l=c,d=a("2877"),u=a("6544"),m=a.n(u),p=a("132d"),b=a("8860"),v=a("da13"),f=a("1800"),h=a("5d23"),k=a("f774"),g=Object(d["a"])(l,o,i,!1,null,"4f06ab46",null),w=g.exports;m()(g,{VIcon:p["a"],VList:b["a"],VListItem:v["a"],VListItemAction:f["a"],VListItemContent:h["a"],VListItemTitle:h["b"],VNavigationDrawer:k["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{attrs:{app:"",color:"white",elevation:"0"}},[a("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),a("v-toolbar-title",[t._v("Заявки")])],1)},x=[],y={name:"AppToolbar",props:{drawer:Boolean},methods:{toggleDrawer(){this.$emit("update:drawer",!this.drawer)}}},V=y,B=a("40dc"),C=a("5bc1"),S=a("2a7f"),$=Object(d["a"])(V,_,x,!1,null,"a967162c",null),I=$.exports;m()($,{VAppBar:B["a"],VAppBarNavIcon:C["a"],VToolbarTitle:S["a"]});var O={init(t){this.snackbarComponent=t,this.snackbarComponent.snackbar.color="default"},show(t){this.snackbarComponent.snackbar.color="info",this.snackbarComponent.snackbar.message=t,this.snackbarComponent.snackbar.shown=!0},error(t){this.snackbarComponent.snackbar.color="red darken-1",this.snackbarComponent.snackbar.message=t,this.snackbarComponent.snackbar.shown=!0},success(t){this.snackbarComponent.snackbar.color="green darken-1",this.snackbarComponent.snackbar.message=t,this.snackbarComponent.snackbar.shown=!0},hide(){this.snackbarComponent.snackbar.shown=!1}},j={components:{AppToolbar:I,AppNavigationDrawer:w},data(){return{drawer:null,snackbar:{shown:!1,color:"info",message:""}}},mounted(){O.init(this)},methods:{hideSnackbar(){this.snackbar.shown=!1}}},A=j,T=a("7496"),N=a("8336"),D=a("a523"),E=a("a75b"),P=a("2db4"),F=Object(d["a"])(A,r,s,!1,null,null,null),L=F.exports;m()(F,{VApp:T["a"],VBtn:N["a"],VContainer:D["a"],VContent:E["a"],VSnackbar:P["a"]});var M=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-card",{scopedSlots:t._u([{key:"title",fn:function(){return[a("v-container",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",[a("v-row",[t._v("Список заявок")]),a("v-row",[a("v-switch",{attrs:{label:"Групповые операции",color:"primary","hide-details":""},model:{value:t.actionsToggle,callback:function(e){t.actionsToggle=e},expression:"actionsToggle"}})],1)],1),a("v-col",[a("v-row",{staticClass:"pr-2",attrs:{justify:"end"}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$router.push({name:"CreateBid"})}}},[t._v("Добавить")])],1)],1)],1),t.actionsToggle?a("v-row",{attrs:{align:"baseline"}},[a("v-col",{attrs:{lg:"3",md:"4"}},[a("v-select",{attrs:{items:t.bidStatuses,"item-text":"name","item-value":"id",label:"Статус заявок","hide-details":""},model:{value:t.commonStatusId,callback:function(e){t.commonStatusId=e},expression:"commonStatusId"}})],1),a("v-col",[a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.changeStatuses}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-content-save")])],1)],1)],1):t._e()],1)]},proxy:!0},{key:"content",fn:function(){return[a("v-data-table",{staticClass:"elevation-0",attrs:{"show-select":"",headers:t.headers,items:t.bids,"items-per-page":10},scopedSlots:t._u([{key:"item.statusName",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{color:t.getColor(n.statusId),dark:""}},[t._v(t._s(n.statusName))])]}},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-3",on:{click:function(e){return t.$router.push({name:"EditBid",params:{id:n.id}})}}},[t._v("mdi-table-edit")]),a("v-icon",{on:{click:function(e){return t.removeBid(n)}}},[t._v("mdi-delete")])]}}]),model:{value:t.selectedBids,callback:function(e){t.selectedBids=e},expression:"selectedBids"}})]},proxy:!0}])})},J=[],R={set(t,e){return localStorage.setItem(t,JSON.stringify(e))},get(t){return JSON.parse(localStorage.getItem(t))}};const K=[{id:1,name:"Новая",color:"orange"},{id:2,name:"В работе",color:"blue"},{id:3,name:"Выполнено",color:"green"},{id:4,name:"Закрыто",color:"black"}];class z{constructor({id:t,number:e,statusId:a,date:n,comment:r}){this.id=t,this.number=e,this.statusId=a,this.statusName=K.find(t=>t.id===a).name,this.date=n,this.comment=r}}var G=z,H=a("5033");const Q="APP_BIDS",U=H,W=()=>{return R.get(Q).map(t=>new G(t))},X=()=>{return!!R.get(Q)},Y=t=>{R.set(Q,t)},Z=t=>{return new G(R.get(Q).find(e=>e.id===t))},tt=(t,e)=>{const a=W();let n;a.find((e,a)=>{e.id===t&&(n=a)}),Object.assign(a[n],e),Y(a)},et=t=>{const e=W();e.push(t),Y(e)},at=t=>{const e=W();let a;e.find((e,n)=>{e.id===t&&(a=n)}),e.splice(a,1),Y(e)},nt=()=>{X()||Y(U)};nt();var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{elevation:"0","max-width":"900"}},[a("v-card-title",[t._t("title")],2),a("v-divider"),a("v-card-text",[t._t("content")],2),a("v-divider"),a("v-card-actions",[t._t("actions")],2)],1)},st=[],ot={name:"AppCard"},it=ot,ct=a("b0af"),lt=a("99d9"),dt=a("ce7e"),ut=Object(d["a"])(it,rt,st,!1,null,"2923dc5a",null),mt=ut.exports;m()(ut,{VCard:ct["a"],VCardActions:lt["a"],VCardText:lt["b"],VCardTitle:lt["c"],VDivider:dt["a"]});var pt={components:{AppCard:mt},data(){return{bids:[],selectedBids:[],commonStatusId:1,actionsToggle:!1,bidStatuses:K,headers:[{text:"Номер",value:"number",align:"center"},{text:"Статус",value:"statusName",align:"center"},{text:"Дата",value:"date",align:"center"},{text:"Действия",value:"action",align:"center",sortable:!1}]}},mounted(){this.getBids()},methods:{getBids(){this.bids=W()},getColor(t){return K.find(e=>e.id===t).color},removeBid(t){at(t.id),O.success("Заявка удалена"),this.getBids()},changeStatuses(){0!==this.selectedBids.length?(this.selectedBids.forEach(t=>{tt(t.id,{statusId:this.commonStatusId})}),O.success("Статус заявок изменен"),this.getBids()):O.error("Выберите заявки")}}},bt=pt,vt=a("cc20"),ft=a("62ad"),ht=a("8fea"),kt=a("0fd9"),gt=a("b974"),wt=a("b73d"),_t=Object(d["a"])(bt,q,J,!1,null,"a6176168",null),xt=_t.exports;m()(_t,{VBtn:N["a"],VChip:vt["a"],VCol:ft["a"],VContainer:D["a"],VDataTable:ht["a"],VIcon:p["a"],VRow:kt["a"],VSelect:gt["a"],VSwitch:wt["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-card",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Создание")]},proxy:!0},{key:"content",fn:function(){return[a("app-bid-form",{ref:"bidForm",model:{value:t.bid,callback:function(e){t.bid=e},expression:"bid"}})]},proxy:!0},{key:"actions",fn:function(){return[a("v-btn",{staticClass:"ml-auto",attrs:{color:"red darken-3",dark:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Отмена")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.create}},[t._v("Сохранить")])]},proxy:!0}])})},Vt=[],Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",on:{input:t.input}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Номер заявки",filled:"",rules:t.required},model:{value:t.bid.number,callback:function(e){t.$set(t.bid,"number",e)},expression:"bid.number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("app-date-picker",{attrs:{rules:t.required},model:{value:t.bid.date,callback:function(e){t.$set(t.bid,"date",e)},expression:"bid.date"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.bidStatuses,"item-text":"name","item-value":"id",filled:"",label:"Статус заявки",rules:t.required},model:{value:t.bid.statusId,callback:function(e){t.$set(t.bid,"statusId",e)},expression:"bid.statusId"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Комментарий",filled:"",rules:t.required},model:{value:t.bid.comment,callback:function(e){t.$set(t.bid,"comment",e)},expression:"bid.comment"}})],1)],1)],1)},Ct=[];const St=[t=>!!t||"Обязательное поле"];var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{value:t.date,label:"Дата заявки",readonly:"",filled:"",rules:t.$attrs.rules}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{locale:"ru",value:t.date,"no-title":"",scrollable:""},on:{input:t.changeDate}})],1)},It=[],Ot={name:"AppDatePicker",props:["value"],data(){return{date:"",menu:!1}},watch:{value(t){this.date=t}},methods:{changeDate(t){this.menu=!1,this.date=t,this.$emit("input",this.date)}}},jt=Ot,At=a("2e4b"),Tt=a("e449"),Nt=a("8654"),Dt=Object(d["a"])(jt,$t,It,!1,null,"d38c7328",null),Et=Dt.exports;m()(Dt,{VDatePicker:At["a"],VMenu:Tt["a"],VTextField:Nt["a"]});var Pt={name:"AppBidForm",components:{AppDatePicker:Et},props:["value"],data(){return{bidStatuses:K,bid:{date:null,comment:"",statusId:null,number:null},required:St}},watch:{value(t){this.bid=t}},methods:{input(){this.$emit("input",this.bid)}}},Ft=Pt,Lt=a("4bd4"),Mt=a("a844"),qt=Object(d["a"])(Ft,Bt,Ct,!1,null,"7f3f1bdb",null),Jt=qt.exports;m()(qt,{VCol:ft["a"],VForm:Lt["a"],VRow:kt["a"],VSelect:gt["a"],VTextField:Nt["a"],VTextarea:Mt["a"]});var Rt=a("c64e"),Kt=a.n(Rt),zt={name:"CreateBid",components:{AppBidForm:Jt,AppCard:mt},data(){return{bid:null,createBid:et}},methods:{create(){this.$refs.bidForm.$refs.form.validate()&&(this.bid.id=Kt()(),et(this.bid),O.success("Заявка создана"))}}},Gt=zt,Ht=Object(d["a"])(Gt,yt,Vt,!1,null,"f30f74d4",null),Qt=Ht.exports;m()(Ht,{VBtn:N["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-card",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Редактирование")]},proxy:!0},{key:"content",fn:function(){return[a("app-bid-form",{ref:"bidForm",model:{value:t.bid,callback:function(e){t.bid=e},expression:"bid"}})]},proxy:!0},{key:"actions",fn:function(){return[a("v-btn",{staticClass:"ml-auto",attrs:{color:"red darken-3",dark:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Отмена")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.saveBid}},[t._v("Сохранить")])]},proxy:!0}])})},Wt=[],Xt={name:"EditBid",components:{AppBidForm:Jt,AppCard:mt},props:{id:String},data(){return{bid:{}}},mounted(){this.getBid()},methods:{saveBid(){this.$refs.bidForm.$refs.form.validate()&&(tt(this.id,this.bid),O.success("Заявка изменена"),this.$router.push({name:"BidsList"}))},getBid(){this.bid=Z(this.id)}}},Yt=Xt,Zt=Object(d["a"])(Yt,Ut,Wt,!1,null,"330c0f8c",null),te=Zt.exports;m()(Zt,{VBtn:N["a"]}),n["a"].use(M["a"]);var ee=new M["a"]({mode:"history",base:"/test-task-vue/",routes:[{path:"/",name:"Main",redirect:{name:"BidsList"}},{path:"/bids",name:"BidsList",component:xt},{path:"/bids/create",name:"CreateBid",component:Qt},{path:"/bids/edit/:id",name:"EditBid",component:te,props:!0}]}),ae=a("2f62");n["a"].use(ae["a"]);var ne=new ae["a"].Store({state:{},mutations:{},actions:{}}),re=a("f309");n["a"].use(re["a"]);var se=new re["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#37495f",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}});a("fb98");n["a"].config.productionTip=!1,new n["a"]({router:ee,store:ne,vuetify:se,render:t=>t(L)}).$mount("#app")},fb98:function(t,e,a){}});
//# sourceMappingURL=app.229164a3.js.map